<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">
	<p:dialog widgetVar="dlg_car_002" id="dlg_car_002" responsive="true"
		appendTo="@(body)" resizable="false" modal="true">
		<f:facet name="header">
			<h:outputLabel value="Ingreso Cliente " />
			<p:outputLabel value="car_002.xhtml"
				rendered="#{appMain.usuario.idUsuario eq 1}"></p:outputLabel>
		</f:facet>
		<h:form id="frm_car_002">
			<p:growl autoUpdate="true"></p:growl>
			<div align="right">
				<p:commandButton icon="ui-icon-save" update=":frm_car_001"
					styleClass="secondary" action="#{clienteBn.guardar()}"
					title="Guardar">
				</p:commandButton>
			</div>
			<p:tabView id="tabView_00">
				<p:tab id="tab_00" title="Información General">
					<div class="ui-fluid">
						<p:panelGrid id="pnlGrid_02" columns="4"
							columnClasses="ui-grid-col-4" layout="grid"
							styleClass="ui-panelgrid-blank">
							<p:inputText title="Ingrese Identificación" maxlength="20"
								required="true" placeholder="Identificación"
								requiredMessage="Ingrese Identificación"
								value="#{clienteBn.personaSeleccionada.identificacionPersona}" />
							<p:selectOneMenu editable="false" required="true"
								requiredMessage="seleecione Tipo Identificación"
								converter="#{parametrosConverter}"
								value="#{clienteBn.personaSeleccionada.parTipoIdentificacion}">
								<f:selectItem itemLabel="Seleccione" />
								<f:selectItems value="#{clienteBn.listaTipoIdentificacion}"
									var="tipoIdentificacion"
									itemLabel="#{tipoIdentificacion.nombreLista}"
									itemValue="#{tipoIdentificacion}"></f:selectItems>
							</p:selectOneMenu>
							<p:outputLabel value="Límite Crédito"></p:outputLabel>
							<p:inputNumber placeholder="Límite Crédito"
								value="#{clienteBn.limiteCredito}" title="Límite Crédito"
								symbol="$" minValue="0" emptyValue="1" thousandSeparator="."
								decimalSeparator=","></p:inputNumber>
						</p:panelGrid>
						<p:panelGrid columns="1" columnClasses="ui-grid-col-12"
							layout="grid" styleClass="ui-panelgrid-blank">
							<p:inputText placeholder="Razón Social" title="Razón Social"
								required="true" requiredMessage="Ingrese Razón Social"
								value="#{clienteBn.personaSeleccionada.nombreCompleto}" />
						</p:panelGrid>
						<p:panelGrid columns="1" columnClasses="ui-grid-col-12"
							layout="grid" styleClass="ui-panelgrid-blank">
							<p:inputText placeholder="Nombre  Comercial"
								title="Nombre  Comercial"
								value="#{clienteBn.personaSeleccionada.nombreComercial}" />
						</p:panelGrid>
						<p:panelGrid columns="3"
							columnClasses="ui-grid-col-4,ui-grid-col-4" layout="grid"
							styleClass="ui-panelgrid-blank">
							<p:inputText title="Ingrese Correo" maxlength="100"
								placeholder="Correo" required="true"
								requiredMessage="Ingrese Correo"
								value="#{clienteBn.personaSeleccionada.email}" />
							<p:inputText title="Ingrese Correo Alterno" maxlength="100"
								placeholder="Correo Alterno"
								value="#{clienteBn.personaSeleccionada.emailAlterno}" />
							<p:inputText title="Ingrese Correo Alterno" maxlength="100"
								placeholder="Correo Alterno"
								value="#{clienteBn.personaSeleccionada.emailAlterno1}" />
						</p:panelGrid>
						<p:panelGrid columns="3"
							columnClasses="ui-grid-col-4,ui-grid-col-4" layout="grid"
							styleClass="ui-panelgrid-blank">
							<p:inputText title="Ingrese Celular" maxlength="100"
								placeholder="Celular"
								value="#{clienteBn.personaSeleccionada.telefonoMovil}" />
							<p:inputText title="Ingrese Celular Alterno" maxlength="100"
								placeholder="Celular"
								value="#{clienteBn.personaSeleccionada.telefonoMovilAlterno}" />
							<p:inputText title="Ingrese Celular Alterno" maxlength="100"
								placeholder="Celular Alterno"
								value="#{clienteBn.personaSeleccionada.telefonoMovilAlterno1}" />
						</p:panelGrid>
						<p:panelGrid columns="3"
							columnClasses="ui-grid-col-4,ui-grid-col-4" layout="grid"
							styleClass="ui-panelgrid-blank">
							<p:inputText title="Ingrese Teléfono" maxlength="100"
								placeholder="Teléfono" required="true"
								requiredMessage="Ingrese Teléfono"
								value="#{clienteBn.personaSeleccionada.telefonoConvencional}" />
							<p:inputText title="Ingrese Teléfono Alterno" maxlength="100"
								placeholder="Teléfono Alterno"
								value="#{clienteBn.personaSeleccionada.telefonoConvencionalAlterno}" />
							<p:inputText title="Ingrese Teléfono Alterno" maxlength="100"
								placeholder="Teléfono Alterno"
								value="#{clienteBn.personaSeleccionada.telefonoConvencionalAlterno1}" />
						</p:panelGrid>
					</div>
				</p:tab>
				<p:tab id="tab_01" title="Ubicación ">
					<div class="ui-fluid">
						<p:panelGrid columns="1" columnClasses="ui-grid-col-12"
							layout="grid" styleClass="ui-panelgrid-blank">
							<p:inputText placeholder="Dirección" title="Dirección"
								required="true" requiredMessage="Ingrese Dirección"
								value="#{clienteBn.personaSeleccionada.direccionDomicilio}" />
						</p:panelGrid>
						<p:panelGrid columns="2" columnClasses="ui-grid-col-6"
							layout="grid" styleClass="ui-panelgrid-blank">
							<p:selectOneMenu id="selectOneProvincia" editable="false"
								required="true" requiredMessage="Seleccione Provincia"
								value="#{clienteBn.personaSeleccionada.ubicacion.provincia}"
								converter="#{provinciaConverter}" style="width:100px !important">
								<f:selectItem itemLabel="Provincia" />
								<f:selectItems value="#{clienteBn.provincias}" var="provincia"
									itemLabel="#{provincia.nombreProvincia}"
									itemValue="#{provincia}"></f:selectItems>
								<p:ajax update="frm_car_002:tabView_00:selectOneCanton"
									process="@this" event="change"></p:ajax>
							</p:selectOneMenu>
							<p:selectOneMenu id="selectOneCanton" editable="false"
								required="true" requiredMessage="Seleccione Cantón"
								value="#{clienteBn.personaSeleccionada.ubicacion.canton}"
								converter="#{cantonConverter}" style="width:100px !important">
								<f:selectItem itemLabel="Cantón" />
								<f:selectItems value="#{clienteBn.cantones}" var="canton"
									itemLabel="#{canton.nombreCanton}" itemValue="#{canton}"></f:selectItems>
							</p:selectOneMenu>
						</p:panelGrid>
					</div>
				</p:tab>
				<p:tab title="Información Cliente">
					<p:dataTable id="dtbRepresentante" paginator="true" rows="6"
						tableStyle="table-layout:auto" paginatorPosition="bottom"
						style="margin-bottom:10px" reflow="true"
						value="#{clienteBn.personaSeleccionada.clientes}" var="cliente"
						rowKey="#{cliente.idCliente}">
						<f:facet name="header">
							<h:outputText value="Clientes" />
						</f:facet>
						<p:column headerText="Código Cliente JDE">
							<p:outputLabel value="#{cliente.idClienteJDE}"></p:outputLabel>
						</p:column>
						<p:column headerText="Nombre Comercial">
							<p:outputLabel value="#{cliente.nombreAlfa}"></p:outputLabel>
						</p:column>
						<p:column headerText="Compañia Virtual">
							<p:outputLabel value="#{cliente.companiaVirtual.descripcion}"></p:outputLabel>
						</p:column>
						<p:column headerText="Empresa">
							<p:outputLabel value="#{cliente.empresa.descripcion}"></p:outputLabel>
						</p:column>
						<p:column headerText="Tipo Credito">
							<p:outputLabel value="#{cliente.parTipoCredito.nombreLista}"></p:outputLabel>
						</p:column>
						<p:column headerText="Código Pago ">
							<p:outputLabel value="#{cliente.codigoPago}"></p:outputLabel>
						</p:column>
						<p:column headerText="Límite Credito">
							<p:outputLabel value="#{cliente.limiteCredito}">
								<f:convertNumber pattern="#,##0.00" />
							</p:outputLabel>
						</p:column>
						<p:column headerText="Ejecutivo Comercial">
							<p:outputLabel value="#{cliente.vendedor.persona.nombreCompleto}"></p:outputLabel>
						</p:column>
					</p:dataTable>
				</p:tab>
				<p:tab title="Contacto">
					<p:dataTable id="dtbContacto" paginator="true" rows="6"
						tableStyle="table-layout:auto" paginatorPosition="bottom"
						style="margin-bottom:10px" reflow="true"
						value="#{clienteBn.personaSeleccionada.personaContacto}"
						var="personaContacto"
						rowKey="#{personaContacto.idPersonaContacto}">
						<f:facet name="header">
							<div align="right">
								<p:commandButton icon="ui-icon-plus" process="@this"
									title="añadir" update=":frm_car_008"
									action="#{clienteBn.nuevoContacto()}"
									oncomplete="PF('dlg_car_008').show()"></p:commandButton>
							</div>
						</f:facet>
						<p:column headerText="Identificación">
							<p:outputLabel value="#{personaContacto.identificacion}"></p:outputLabel>
						</p:column>
						<p:column headerText="Nombre">
							<p:outputLabel value="#{personaContacto.nombreCompleto}"></p:outputLabel>
						</p:column>
						<p:column headerText="Correo">
							<p:outputLabel value="#{personaContacto.email}"></p:outputLabel>
						</p:column>
						<p:column headerText="Telefono">
							<p:outputLabel value="#{personaContacto.telefono}"></p:outputLabel>
						</p:column>
						<p:column headerText="Celular">
							<p:outputLabel value="#{personaContacto.celular}"></p:outputLabel>
						</p:column>
						<p:column headerText="Acción">
							<div align="center">
								<p:commandButton icon="ui-icon-update" styleClass="secondary"
									update=":frm_car_008" process="@this "
									action="#{clienteBn.modificarContacto(personaContacto)}"
									oncomplete="PF('dlg_car_008').show()"></p:commandButton>
							</div>
						</p:column>
					</p:dataTable>
				</p:tab>
			</p:tabView>
		</h:form>
		<ui:include src="/pages/cartera/car_008.xhtml" />
	</p:dialog>
</ui:composition>